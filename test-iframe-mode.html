<!DOCTYPE html>
<html>
    <head></head>
    <body>
        <script>
            async function main() {
                const host = "http://localhost:9000";
                let response = await fetch(`${host}/api/session/application`, {
                    method: "POST",
                    headers: {
                        Authorization: "Bearer xxx",
                        "Content-Type": "application/json",
                    },
                    body: JSON.stringify({
                        email: "john@email.com",
                        name: "John Citizen",
                        // session: {
                        //     s3: {
                        //         provider: "Minio",
                        //         url: "https://{your s3 endpoint}",
                        //         folder: "development",
                        //         awsAccessKeyId: "set key here",
                        //         awsSecretAccessKey: "set secret here",
                        //         region: "us-east-1",
                        //     },
                        // },
                        // profile: {
                        //     file: "nyingarn-profile.json",
                        // }    ,
                    }),
                });
                let { sessionId } = await response.json();
                let div = document.getElementById("frame-div");
                let frame = document.createElement("iframe");
                frame.src = `${host}/application?sid=${sessionId}`;
                frame.width = `${window.innerWidth - 20}px`;
                frame.height = `${window.innerHeight - 50}px`;
                frame.style = "border:0; margin: auto auto;";
                frame.frameborder = 0;
                div.appendChild(frame);
            }
            main();
        </script>

        <div id="frame-div"></div>
    </body>
</html>
